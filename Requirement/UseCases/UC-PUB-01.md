# UC-PUB-01: Xuất bản tài liệu (PDF/DOCX)

<table><tbody><tr><td>ID and Name:</td><td>UC-PUB-01: Xuất bản tài liệu (PDF/DOCX)</td><td>&nbsp;</td><td>&nbsp;</td></tr><tr><td>Created By:</td><td>&nbsp;</td><td>Date Created:</td><td>&nbsp;</td></tr><tr><td>Primary Actor:</td><td>Business Analyst (BA)</td><td>Secondary Actors:</td><td>&nbsp;</td></tr><tr><td>Description:</td><td colspan="3">Use case này cho phép BA tạo ra một file tài liệu SRS (hoặc BRS) hoàn chỉnh, chuyên nghiệp từ các đối tượng yêu cầu trong dự án. Việc xuất bản sẽ dựa trên một "Template Xuất bản" tùy chỉnh (định nghĩa trong <code>UC-CFG-03</code>) và có thể lọc theo "Release" (định nghĩa trong <code>UC-MGT-03</code>).</td></tr><tr><td>Trigger:</td><td colspan="3">BA chọn "File" > "Export" > "Export to Document (PDF/DOCX)..."</td></tr><tr><td>Preconditions:</td><td colspan="3">1. BA đã mở một dự án (tham chiếu <code>UC-PM-02</code>).<br>2. BA đã định nghĩa ít nhất một "Template Xuất bản" (tham chiếu <code>UC-CFG-03</code>).<br>3. BA đã gán các yêu cầu vào một "Release" (tham chiếu <code>UC-MGT-03</code>).</td></tr><tr><td>Postconditions:</td><td colspan="3"><b>Thành công:</b> Một file <code>.pdf</code> hoặc <code>.docx</code> được tạo ra trên ổ đĩa của BA, chứa nội dung các yêu cầu đã được gom và định dạng theo template.<br><b>Thất bại:</b> Không có file nào được tạo. Hệ thống hiển thị thông báo lỗi.</td></tr><tr><td>Normal Flow:</td><td colspan="3">1.0. BA chọn "File" > "Export" > "Export to Document (PDF/DOCX)...".<br>2.0. Hệ thống hiển thị cửa sổ "Tùy chọn Xuất bản" (Export Options).<br>3.0. BA chọn "Template Xuất bản" (ví dụ: "SRS Template Chuẩn") từ <code>Dropdown</code>.<br>4.0. BA chọn "Lọc theo Release" (ví dụ: <code>@REL001: V1.0</code>) từ <code>Dropdown</code>.<br>5.0. BA chọn định dạng (PDF hoặc DOCX) và chọn vị trí lưu file.<br>6.0. BA nhấn "Export".<br>7.0. Hệ thống (Tự động hóa) bắt đầu quá trình nền:<br>    - 7.1. Đọc file cấu hình template (ví dụ: <code>srs_template_1.json</code>) (tham chiếu <code>UC-CFG-03</code>).<br>    - 7.2. Xây dựng một chuỗi Markdown trung gian (intermediate Markdown string) rất lớn.<br>    - 7.3. Lặp (loop) qua các "Chương" (Sections) trong file template.<br>    - 7.4. Với mỗi "Chương Động", hệ thống quét dự án để tìm các đối tượng phù hợp (ví dụ: Loại=<code>@UC</code> VÀ Release=<code>@REL001</code> VÀ Trạng thái=<code>Approved</code>).<br>    - 7.5. Hệ thống đọc file <code>.md</code> (đã auto-gen) của các đối tượng tìm thấy và nối vào chuỗi Markdown trung gian (theo định dạng <code>Table</code> hoặc <code>Full Content</code>).<br>8.0. Hệ thống lưu chuỗi Markdown trung gian thành file <code>temp_srs.md</code>.<br>9.0. Hệ thống gọi một công cụ chuyển đổi (ví dụ: Pandoc) để thực thi lệnh (ví dụ: <code>pandoc temp_srs.md -o "My_SRS_V1.pdf"</code>).<br>10.0. Hệ thống hiển thị thông báo "Xuất bản thành công" khi hoàn tất.<br>11.0. Hệ thống xóa file <code>temp_srs.md</code>.</td></tr><tr><td>Alternative Flows:</td><td colspan="3"><b>1.0.A1: Xuất bản không lọc theo Release</b><br>Tại bước 4.0:<br>4.1. BA chọn "Không lọc" (hoặc "Tất cả yêu cầu").<br>4.2. Hệ thống (tại bước 7.4) sẽ bỏ qua điều kiện lọc theo Release.</td></tr><tr><td>Exceptions:</td><td colspan="3"><b>1.0.E1: Không tìm thấy công cụ chuyển đổi (Pandoc)</b><br>Tại bước 9.0:<br>9.1. Hệ thống không tìm thấy <code>pandoc.exe</code> (hoặc công cụ tương đương) trong PATH của hệ thống.<br>9.2. Hệ thống hiển thị lỗi: "Lỗi: Không tìm thấy Pandoc. Vui lòng cài đặt và cấu hình Pandoc trong Cài đặt."<br>9.3. Use case kết thúc thất bại.<br><br><b>1.0.E2: Lỗi ghi file (Write Error)</b><br>Tại bước 9.0 (hoặc 10.0):<br>9.1. Hệ thống không thể ghi file (ví dụ: file <code>.pdf</code> đang được mở, không có quyền ghi, ổ đĩa đầy).<br>9.2. Hệ thống hiển thị thông báo lỗi chi tiết.<br>9.3. Use case kết thúc thất bại.</td></tr><tr><td>Priority:</td><td colspan="3">Cao</td></tr><tr><td>Frequency of Use:</td><td colspan="3">Trung bình (Khi kết thúc một giai đoạn hoặc chuẩn bị bàn giao tài liệu)</td></tr><tr><td>Business Rules:</td><td colspan="3">N/A</td></tr><tr><td>Other Information:</td><td colspan="3">Chất lượng của file <code>.pdf</code>/<code>.docx</code> phụ thuộc vào chất lượng của "Template Xuất bản" (<code>UC-CFG-03</code>) và khả năng của công cụ chuyển đổi (Pandoc).</td></tr><tr><td>Assumptions:</td><td colspan="3">1. Một công cụ chuyển đổi (ví dụ: Pandoc) đã được cài đặt trên máy của BA và được cấu hình trong PATH của hệ thống.<br>2. BA đã định nghĩa "Template Xuất bản" (<code>UC-CFG-03</code>).</td></tr></tbody></table>

## Guideline

Định danh cho luồng bình thường của use case này là 1.0. Các luồng thay thế được xác định bằng cách tăng số ở bên phải dấu chấm, vì vậy luồng thay thế đầu tiên là 1.1, luồng thứ hai sẽ là 1.2, v.v. Cả luồng bình thường và luồng thay thế đều có thể có các ngoại lệ riêng. Ngoại lệ đầu tiên trên luồng bình thường của use case số 4 sẽ được gắn nhãn 1.0.E1. Ngoại lệ thứ hai cho luồng thay thế đầu tiên của use case này sẽ là 1.1.E2.