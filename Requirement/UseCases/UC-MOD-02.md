# UC-MOD-02: Xem Sơ đồ Quan hệ (Graph View)

<table><tbody><tr><td>ID and Name:</td><td>UC-MOD-02: Xem Sơ đồ Quan hệ (Graph View)</td><td>&nbsp;</td><td>&nbsp;</td></tr><tr><td>Created By:</td><td>&nbsp;</td><td>Date Created:</td><td>&nbsp;</td></tr><tr><td>Primary Actor:</td><td>Business Analyst (BA)</td><td>Secondary Actors:</td><td>&nbsp;</td></tr><tr><td>Description:</td><td colspan="3">Use case này cho phép BA xem một "bức tranh lớn" (big picture) trực quan của toàn bộ dự án. Hệ thống sẽ hiển thị tất cả các Đối tượng Yêu cầu (<code>@UC</code>, <code>@BR</code>, <code>@SCR</code>...) dưới dạng các "nút" (nodes) và các liên kết (<code>@ID</code>) giữa chúng dưới dạng các "cạnh" (edges).</td></tr><tr><td>Trigger:</td><td colspan="3">BA chọn "View" > "Project Graph" từ menu chính (hoặc nhấn vào một nút "Graph View" chuyên dụng).</td></tr><tr><td>Preconditions:</td><td colspan="3">1. BA đã mở một dự án (tham chiếu <code>UC-PM-02</code>).<br>2. Dự án có chứa các đối tượng và các liên kết (<code>@ID</code>) đã được tạo (tham chiếu <code>UC-DEV-02</code>).</td></tr><tr><td>Postconditions:</td><td colspan="3"><b>Thành công:</b> Một sơ đồ mạng lưới (graph/network diagram) tương tác được hiển thị trong một Tab mới, cho thấy mối quan hệ của tất cả các đối tượng.<br><b>Thất bại:</b> Hệ thống hiển thị lỗi nếu không thể render.</td></tr><tr><td>Normal Flow:</td><td colspan="3">1.0. BA kích hoạt (Trigger) use case.<br>2.0. Hệ thống mở một Tab mới có tiêu đề "Project Graph".<br>3.0. Hệ thống (ở chế độ nền) quét toàn bộ dự án để xây dựng một chỉ mục (index) về các liên kết.<br>4.0. Hệ thống (Tự động hóa) tạo ra một tập dữ liệu (dataset) gồm 2 phần:<br>    - Danh sách Nút (Nodes): Tất cả các đối tượng (ví dụ: <code>{id: "@UC001", name: "Đăng nhập", type: "UC"}</code>).<br>    - Danh sách Cạnh (Edges): Tất cả các liên kết (ví dụ: <code>{from: "@UC001", to: "@BR005"}</code>).<br>5.0. Hệ thống sử dụng một thư viện đồ thị (ví dụ: <code>WebView</code> + <code>D3.js</code>/<code>vis.js</code>, hoặc thư viện Java-native) để vẽ (render) tập dữ liệu này.<br>6.0. BA xem sơ đồ và có thể tương tác (zoom, pan) để phân tích các mối quan hệ và sự phụ thuộc.</td></tr><tr><td>Alternative Flows:</td><td colspan="3"><b>1.0.A1: Tương tác với Nút (Node)</b><br>Tại bước 6.0:<br>6.1. BA nhấp (click) vào một Nút (ví dụ: Nút <code>@UC001</code>).<br>6.2. Hệ thống làm nổi bật (highlight) Nút <code>@UC001</code> và tất cả các Nút lân cận (có liên kết trực tiếp).<br>6.3. Cột thông tin (bên phải) hiển thị tóm tắt của <code>@UC001</code>.<br>6.4. BA nhấp đúp (double-click) vào Nút <code>@UC001</code>.<br>6.5. Hệ thống mở Tab "Form View" cho <code>@UC001</code> (tham chiếu <code>UC-DEV-01</code>).<br><br><b>1.0.A2: Lọc Sơ đồ (Filter)</b><br>Tại bước 6.0:<br>6.1. BA sử dụng các bộ lọc (ví dụ: checkboxes) trên giao diện (ví dụ: "Ẩn loại <code>@TASK</code>", "Chỉ hiển thị <code>@UC</code> và <code>@BR</code>").<br>6.2. Hệ thống tự động render lại sơ đồ (bước 4.0 - 5.0) với bộ lọc được áp dụng.</td></tr><tr><td>Exceptions:</td><td colspan="3"><b>1.0.E1: Dự án quá lớn để hiển thị</b><br>Tại bước 4.0:<br>4.1. Hệ thống phát hiện số lượng Nút + Cạnh vượt quá một ngưỡng (ví dụ: > 5000).<br>4.2. Hệ thống hiển thị cảnh báo: "Dự án quá lớn. Việc render sơ đồ có thể rất chậm hoặc làm treo ứng dụng. Bạn có muốn tiếp tục?"<br>4.3. BA có thể chọn "Hủy" (Cancel). Use case kết thúc.</td></tr><tr><td>Priority:</td><td colspan="3">Trung bình</td></tr><tr><td>Frequency of Use:</td><td colspan="3">Trung bình</td></tr><tr><td>Business Rules:</td><td colspan="3">N/A</td></tr><tr><td>Other Information:</td><td colspan="3">Đây là tính năng cốt lõi cho việc Phân tích Tác động (Impact Analysis). Khi BA muốn sửa <code>@BR005</code>, họ có thể xem sơ đồ này để biết nó ảnh hưởng đến bao nhiêu <code>@UC</code>.</td></tr><tr><td>Assumptions:</td><td colspan="3">Một thư viện/công cụ render đồ thị đã được tích hợp vào ứng dụng.</td></tr></tbody></table>

## Guideline

Định danh cho luồng bình thường của use case này là 1.0. Các luồng thay thế được xác định bằng cách tăng số ở bên phải dấu chấm, vì vậy luồng thay thế đầu tiên là 1.1, luồng thứ hai sẽ là 1.2, v.v. Cả luồng bình thường và luồng thay thế đều có thể có các ngoại lệ riêng. Ngoại lệ đầu tiên trên luồng bình thường của use case số 4 sẽ được gắn nhãn 1.0.E1. Ngoại lệ thứ hai cho luồng thay thế đầu tiên của use case này sẽ là 1.1.E2.