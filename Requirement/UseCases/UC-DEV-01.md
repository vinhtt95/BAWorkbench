# UC-DEV-01: Tạo/Sửa Đối tượng Yêu cầu (qua Form)

<table><tbody><tr><td>ID and Name:</td><td>UC-DEV-01: Tạo/Sửa Đối tượng Yêu cầu (qua Form)</td><td>&nbsp;</td><td>&nbsp;</td></tr><tr><td>Created By:</td><td>&nbsp;</td><td>Date Created:</td><td>&nbsp;</td></tr><tr><td>Primary Actor:</td><td>Business Analyst (BA)</td><td>Secondary Actors:</td><td>&nbsp;</td></tr><tr><td>Description:</td><td colspan="3">Đây là use case cốt lõi hàng ngày. BA tạo hoặc chỉnh sửa một mục yêu cầu (như Use Case, Function...) bằng cách điền vào Form trực quan đã được định nghĩa trong <code>UC-CFG-01</code>.</td></tr><tr><td>Trigger:</td><td colspan="3">1. BA nhấn nút "Tạo mới" (hoặc click chuột phải vào thư mục) và chọn Loại Đối tượng (ví dụ: "Use Case").<br>2. BA double-click vào một đối tượng đã tồn tại trong <code>TreeView</code> (cột trái).</td></tr><tr><td>Preconditions:</td><td colspan="3">1. BA đã mở một dự án (tham chiếu <code>UC-PM-02</code>).<br>2. BA đã định nghĩa ít nhất một Loại Đối tượng (ví dụ: "Use Case") trong Cài đặt (tham chiếu <code>UC-CFG-01</code>).</td></tr><tr><td>Postconditions:</td><td colspan="3"><b>Thành công:</b> Dữ liệu của đối tượng (ví dụ: <code>UC001.json</code>) và file tương thích Git (<code>UC001.md</code>) được tạo/cập nhật. Cache sơ đồ được cập nhật.<br><b>Thất bại:</b> Không có thay đổi nào được lưu. Hệ thống hiển thị thông báo lỗi (nếu có).</td></tr><tr><td>Normal Flow:</td><td colspan="3">1.0. BA kích hoạt (Trigger) use case.<br>2.0. Hệ thống đọc file cấu hình template của Loại Đối tượng tương ứng (ví dụ: <code>uc.template.json</code>).<br>3.0. Hệ thống (Tự động hóa) tự động sinh ra giao diện Form (gồm <code>TextField</code>, <code>ComboBox</code>, <code>Flow Builder</code>...) dựa trên cấu hình.<br>4.0. Hệ thống hiển thị Form này ("Form View") trong một Tab mới ở khu vực làm việc chính.<br>5.0. (Nếu là Sửa) Hệ thống tải (load) dữ liệu từ file <code>.json</code> (ví dụ: <code>UC001.json</code>) và điền vào các trường (fields) của Form.<br>6.0. BA điền thông tin hoặc chỉnh sửa các trường trong Form.<br>7.0. (Nếu là Loại có Flow) BA sử dụng giao diện <code>Flow Builder</code> trực quan để "Thêm bước", chọn Tác nhân, nhập Hành động, chọn logic "If-Then", kéo-thả các bước. (BA không viết code).<br>8.0. (Nếu là Loại có Link) BA sử dụng trường <code>Linker</code>, gõ <code>@</code> để tìm kiếm và liên kết đến các đối tượng khác (ví dụ: <code>@BR001</code>).<br>9.0. (Auto-save) BA dừng nhập liệu trong 2 giây.<br>10.0. Hệ thống tự động kích hoạt lưu.<br>11.0. (Nếu là Tạo mới) Hệ thống gán một ID duy nhất (ví dụ: <code>UC001</code>).<br>12.0. Hệ thống lưu dữ liệu Form vào file <code>.json</code> (ví dụ: <code>UC001.json</code>) - đây là "Nguồn sự thật" (Source of Truth).<br>13.0. Hệ thống (Tự động hóa) đọc file <code>.json</code> và sinh (generate) ra file <code>UC001.md</code> (để Git theo dõi).<br>14.0. Hệ thống cập nhật cache sơ đồ cho đối tượng này.</td></tr><tr><td>Alternative Flows:</td><td colspan="3"><b>1.0.A1: Nhận hỗ trợ từ AI (Gemini) (tham chiếu <code>UC-DEV-03</code>)</b><br>Tại bước 7.0:<br>7.1. BA điền Tên (ví dụ: "Đăng nhập người dùng") và Mô tả.<br>7.2. BA nhấn nút "Gemini: Đề xuất luồng" (bên cạnh <code>Flow Builder</code>).<br>7.3. Hệ thống gửi Tên, Mô tả và prompt đã lưu (từ <code>UC-CFG-04</code>) đến API Gemini.<br>7.4. Hệ thống nhận kết quả (danh sách các bước có cấu trúc).<br>7.5. Hệ thống tự động điền các bước vào giao diện <code>Flow Builder</code> (tạo ra các hàng/ô trong Form).<br>7.6. BA xem lại, chấp nhận và tinh chỉnh các bước do AI đề xuất.<br>7.7. Use case tiếp tục từ bước 8.0.</td></tr><tr><td>Exceptions:</td><td colspan="3"><b>1.0.E1: Lỗi Auto-save</b><br>Tại bước 12.0:<br>12.1. Hệ thống không thể ghi file (ví dụ: file bị khóa, ổ đĩa đầy, lỗi quyền truy cập).<br>12.2. Hệ thống hiển thị một thông báo lỗi không xâm lấn (non-blocking notification) (ví dụ: "Lỗi: Không thể lưu <code>UC001</code>. Đang thử lại...").<br>12.3. Hệ thống tự động thử lưu lại sau 10 giây.</td></tr><tr><td>Priority:</td><td colspan="3">Rất Cao</td></tr><tr><td>Frequency of Use:</td><td colspan="3">Rất Cao (Hàng ngày)</td></tr><tr><td>Business Rules:</td><td colspan="3"><code>BR-ID-01</code>: ID được sinh ra phải là duy nhất trong toàn dự án.<br><code>BR-SAVE-01</code>: Cơ chế Auto-save phải chạy ngầm và không làm gián đoạn trải nghiệm gõ phím của BA.</td></tr><tr><td>Other Information:</td><td colspan="3">Đây là use case tương tác chính của BA. Trải nghiệm (UX) của Form và <code>Flow Builder</code> phải mượt mà.</td></tr><tr><td>Assumptions:</td><td colspan="3">Các "Loại Đối tượng" đã được cấu hình trong <code>UC-CFG-01</code>.</td></tr></tbody></table>

## Guideline

Định danh cho luồng bình thường của use case này là 1.0. Các luồng thay thế được xác định bằng cách tăng số ở bên phải dấu chấm, vì vậy luồng thay thế đầu tiên là 1.1, luồng thứ hai sẽ là 1.2, v.v. Cả luồng bình thường và luồng thay thế đều có thể có các ngoại lệ riêng. Ngoại lệ đầu tiên trên luồng bình thường của use case số 4 sẽ được gắn nhãn 1.0.E1. Ngoại lệ thứ hai cho luồng thay thế đầu tiên của use case này sẽ là 1.1.E2.